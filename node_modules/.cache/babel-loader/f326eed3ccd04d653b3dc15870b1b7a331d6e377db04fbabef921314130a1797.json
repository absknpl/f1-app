{"ast":null,"code":"import _objectSpread from\"/Users/abisek/Library/CloudStorage/OneDrive-MarymountUniversity/MU Codes/repos/f1-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{DragDropContext,Droppable,Draggable}from'@hello-pangea/dnd';import{get2025Standings,get2025UpcomingRaces,load2025Data}from'../utils/f1Data';import{calculate2025Scenario}from'../utils/calculations';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ScenarioForm=_ref=>{let{setScenarioResults}=_ref;const[originalStandings,setOriginalStandings]=useState([]);const[modifiedStandings,setModifiedStandings]=useState([]);const[upcomingRaces,setUpcomingRaces]=useState([]);const[selectedRace,setSelectedRace]=useState('');const[isLoading,setIsLoading]=useState(true);// Load initial data\nuseEffect(()=>{const initializeData=async()=>{var _races$;await load2025Data();const standings=get2025Standings();const races=get2025UpcomingRaces();setOriginalStandings([...standings]);setModifiedStandings([...standings]);setUpcomingRaces(races);setSelectedRace(((_races$=races[0])===null||_races$===void 0?void 0:_races$.name)||'');setIsLoading(false);};initializeData();},[]);// Reset to original standings\nconst handleReset=()=>{setModifiedStandings([...originalStandings]);setScenarioResults(null);};// Drag and drop handler\nconst onDragEnd=useCallback(result=>{if(!result.destination)return;const items=Array.from(modifiedStandings);const[reorderedItem]=items.splice(result.source.index,1);items.splice(result.destination.index,0,reorderedItem);setModifiedStandings(items.map((item,index)=>_objectSpread(_objectSpread({},item),{},{position:index+1})));},[modifiedStandings]);// Calculate scenario\nconst handleSubmit=e=>{e.preventDefault();const results=calculate2025Scenario(selectedRace,modifiedStandings.map((d,i)=>({position:i+1,driver:d.id})),[],originalStandings);setScenarioResults(results);};if(isLoading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading 2025 season data...\"});return/*#__PURE__*/_jsx(\"div\",{className:\"scenario-form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Grand Prix:\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedRace,onChange:e=>setSelectedRace(e.target.value),required:true,children:upcomingRaces.map(race=>/*#__PURE__*/_jsxs(\"option\",{value:race.name,children:[race.name,\" (\",race.circuit,\")\"]},race.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"race-results-input\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Set Race Finish Order:\"}),/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:onDragEnd,children:/*#__PURE__*/_jsx(Droppable,{droppableId:\"drivers\",children:provided=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},provided.droppableProps),{},{ref:provided.innerRef,className:\"driver-list\",children:[modifiedStandings.map((driver,index)=>/*#__PURE__*/_jsx(Draggable,{draggableId:driver.id,index:index,children:provided=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),provided.dragHandleProps),{},{className:\"driver-item\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"position\",children:[index+1,\".\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"driver-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"driver-name\",children:driver.name}),/*#__PURE__*/_jsx(\"span\",{className:\"driver-team\",children:driver.team}),/*#__PURE__*/_jsxs(\"span\",{className:\"driver-points\",children:[driver.points,\" pts\"]})]})]}))},driver.id)),provided.placeholder]}))})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"calculate-btn\",children:\"Calculate Projection\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleReset,className:\"reset-btn\",children:\"Reset Projection\"})]})]})});};export default ScenarioForm;","map":{"version":3,"names":["React","useState","useEffect","useCallback","DragDropContext","Droppable","Draggable","get2025Standings","get2025UpcomingRaces","load2025Data","calculate2025Scenario","jsx","_jsx","jsxs","_jsxs","ScenarioForm","_ref","setScenarioResults","originalStandings","setOriginalStandings","modifiedStandings","setModifiedStandings","upcomingRaces","setUpcomingRaces","selectedRace","setSelectedRace","isLoading","setIsLoading","initializeData","_races$","standings","races","name","handleReset","onDragEnd","result","destination","items","Array","from","reorderedItem","splice","source","index","map","item","_objectSpread","position","handleSubmit","e","preventDefault","results","d","i","driver","id","className","children","onSubmit","value","onChange","target","required","race","circuit","droppableId","provided","droppableProps","ref","innerRef","draggableId","draggableProps","dragHandleProps","team","points","placeholder","type","onClick"],"sources":["/Users/abisek/Library/CloudStorage/OneDrive-MarymountUniversity/MU Codes/repos/f1-app/src/components/ScenarioForm.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { DragDropContext, Droppable, Draggable } from '@hello-pangea/dnd';\nimport { get2025Standings, get2025UpcomingRaces, load2025Data } from '../utils/f1Data';\nimport { calculate2025Scenario } from '../utils/calculations';\n\nconst ScenarioForm = ({ setScenarioResults }) => {\n  const [originalStandings, setOriginalStandings] = useState([]);\n  const [modifiedStandings, setModifiedStandings] = useState([]);\n  const [upcomingRaces, setUpcomingRaces] = useState([]);\n  const [selectedRace, setSelectedRace] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Load initial data\n  useEffect(() => {\n    const initializeData = async () => {\n      await load2025Data();\n      const standings = get2025Standings();\n      const races = get2025UpcomingRaces();\n      setOriginalStandings([...standings]);\n      setModifiedStandings([...standings]);\n      setUpcomingRaces(races);\n      setSelectedRace(races[0]?.name || '');\n      setIsLoading(false);\n    };\n    initializeData();\n  }, []);\n\n  // Reset to original standings\n  const handleReset = () => {\n    setModifiedStandings([...originalStandings]);\n    setScenarioResults(null);\n  };\n\n  // Drag and drop handler\n  const onDragEnd = useCallback((result) => {\n    if (!result.destination) return;\n    \n    const items = Array.from(modifiedStandings);\n    const [reorderedItem] = items.splice(result.source.index, 1);\n    items.splice(result.destination.index, 0, reorderedItem);\n    \n    setModifiedStandings(items.map((item, index) => ({\n      ...item,\n      position: index + 1\n    })));\n  }, [modifiedStandings]);\n\n  // Calculate scenario\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const results = calculate2025Scenario(\n      selectedRace,\n      modifiedStandings.map((d, i) => ({ position: i + 1, driver: d.id })),\n      [],\n      originalStandings\n    );\n    setScenarioResults(results);\n  };\n\n  if (isLoading) return <div className=\"loading\">Loading 2025 season data...</div>;\n\n  return (\n    <div className=\"scenario-form\">\n      <form onSubmit={handleSubmit}>\n        {/* Race selection dropdown */}\n        <div className=\"form-group\">\n          <label>Select Grand Prix:</label>\n          <select\n            value={selectedRace}\n            onChange={(e) => setSelectedRace(e.target.value)}\n            required\n          >\n            {upcomingRaces.map(race => (\n              <option key={race.id} value={race.name}>\n                {race.name} ({race.circuit})\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Drag and drop interface */}\n        <div className=\"race-results-input\">\n          <h3>Set Race Finish Order:</h3>\n          <DragDropContext onDragEnd={onDragEnd}>\n            <Droppable droppableId=\"drivers\">\n              {(provided) => (\n                <div {...provided.droppableProps} ref={provided.innerRef} className=\"driver-list\">\n                  {modifiedStandings.map((driver, index) => (\n                    <Draggable key={driver.id} draggableId={driver.id} index={index}>\n                      {(provided) => (\n                        <div\n                          ref={provided.innerRef}\n                          {...provided.draggableProps}\n                          {...provided.dragHandleProps}\n                          className=\"driver-item\"\n                        >\n                          <span className=\"position\">{index + 1}.</span>\n                          <div className=\"driver-info\">\n                            <span className=\"driver-name\">{driver.name}</span>\n                            <span className=\"driver-team\">{driver.team}</span>\n                            <span className=\"driver-points\">{driver.points} pts</span>\n                          </div>\n                        </div>\n                      )}\n                    </Draggable>\n                  ))}\n                  {provided.placeholder}\n                </div>\n              )}\n            </Droppable>\n          </DragDropContext>\n        </div>\n\n        {/* Action buttons */}\n        <div className=\"form-actions\">\n          <button type=\"submit\" className=\"calculate-btn\">\n            Calculate Projection\n          </button>\n          <button \n            type=\"button\" \n            onClick={handleReset} \n            className=\"reset-btn\"\n          >\n            Reset Projection\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default ScenarioForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}